{"ast":null,"code":"import React,{useState,useEffect}from'react';import{DatePicker}from\"antd\";import{TimePicker}from'antd';import dayjs from'dayjs';import customParseFormat from'dayjs/plugin/customParseFormat';import{Link,useNavigate}from'react-router-dom';import emailjs from'@emailjs/browser';import'./styles/message.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function MessageSend(){const templateId=process.env.REACT_APP_API_EMAIL_JS_templateId;const serviceId=process.env.REACT_APP_API_EMAIL_JS_serviceId;const publicKey=process.env.REACT_APP_API_EMAIL_JS_publicKey;const[date,setDate]=useState(new Date());const[time,setTime]=useState(null);const[isSent,setIsSent]=useState(\"Send\");const[messageInput,setMessageInput]=useState(\"\");const[isButtonDisabled,setIsButtonDisabled]=useState(true);const navigate2=useNavigate();const handleOnChangeDate=(date,dateString)=>{setDate(dateString);};dayjs.extend(customParseFormat);const handleOnChangeTime=(time,timeString)=>{setTime(timeString);};useEffect(()=>{setIsButtonDisabled(!(messageInput!==''&&date&&time));},[date,time,messageInput]);const handleSubmitMessage=event=>{event.preventDefault();setIsSent(\"Sent\");setIsButtonDisabled(true);// Emailing\nconst templateParams={message:messageInput,date:dayjs(date).format('DD/MM/YYYY'),time:time};emailjs.send(serviceId,templateId,templateParams,publicKey).then(response=>{}).catch(error=>{console.log(error);});setDate(new Date());setTime(null);setMessageInput('');setTimeout(()=>{navigate2('/endpage');},3000);};return/*#__PURE__*/_jsxs(\"div\",{className:\"message-form flex items-center justify-around flex-col gap-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"time-and-date flex flex-row flex-wrap items-center justify-center gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"date w-fit h-fit\",children:/*#__PURE__*/_jsx(DatePicker,{onChange:handleOnChangeDate,className:\"w-36 sm:w-48 lg:w-56 h-10 sm:h-12 lg:h-14\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"time w-fit h-fit\",children:/*#__PURE__*/_jsx(TimePicker,{changeOnScroll:true,needConfirm:false,onChange:handleOnChangeTime,defaultOpenValue:dayjs('00:00:00','HH:mm:ss'),className:\"w-36 sm:w-48 lg:w-56 h-10 sm:h-12 lg:h-14\",value:time?dayjs(time,'HH:mm:ss'):null})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-area\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"area-text w-[19.5rem] sm:w-[26rem] lg:w-[29.8rem] h-36 sm:h-48 lg:h-60 text-slate-600 font-bold p-4 rounded-lg shadow-lg hover:shadow-xl active:shadow-none duration-200 placeholder:text-slate-400\",name:\"\",id:\"\",placeholder:\"Message here...\",onChange:e=>setMessageInput(e.target.value),value:messageInput})}),/*#__PURE__*/_jsx(\"div\",{className:\"button-send\",children:/*#__PURE__*/_jsx(\"button\",{className:\"send-button w-fit h-fit \".concat(isButtonDisabled?'opacity-30':''),disabled:isButtonDisabled,onClick:handleSubmitMessage,children:/*#__PURE__*/_jsx(\"div\",{className:\"button-text px-7 py-3 border-2 rounded-xl text-xl bg-transparent bg-gradient-to-tr from-[#3a6186] to-[#89253e] text-gray-200 shadow-xl shadow-pink-500 \".concat(isButtonDisabled?'':'hover:scale-110 active:scale-90',\" duration-100 mb-8 sm:mb-4 rotate-6\"),children:isSent})})}),/*#__PURE__*/_jsx(Link,{to:\"/endpage\",className:\"endpage-link hidden pointer-events-none select-none\"})]});}","map":{"version":3,"names":["React","useState","useEffect","DatePicker","TimePicker","dayjs","customParseFormat","Link","useNavigate","emailjs","jsx","_jsx","jsxs","_jsxs","MessageSend","templateId","process","env","REACT_APP_API_EMAIL_JS_templateId","serviceId","REACT_APP_API_EMAIL_JS_serviceId","publicKey","REACT_APP_API_EMAIL_JS_publicKey","date","setDate","Date","time","setTime","isSent","setIsSent","messageInput","setMessageInput","isButtonDisabled","setIsButtonDisabled","navigate2","handleOnChangeDate","dateString","extend","handleOnChangeTime","timeString","handleSubmitMessage","event","preventDefault","templateParams","message","format","send","then","response","catch","error","console","log","setTimeout","className","children","onChange","changeOnScroll","needConfirm","defaultOpenValue","value","name","id","placeholder","e","target","concat","disabled","onClick","to"],"sources":["/Users/kunalkoshta/Desktop/her_codes/her_valentine_2/src/components/MessageSend.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { DatePicker } from \"antd\";\nimport { TimePicker } from 'antd';\nimport dayjs from 'dayjs';\nimport customParseFormat from 'dayjs/plugin/customParseFormat';\nimport { Link, useNavigate } from 'react-router-dom';\nimport emailjs from '@emailjs/browser';\nimport './styles/message.css';\n\nexport default function MessageSend() {\n\n    const templateId = process.env.REACT_APP_API_EMAIL_JS_templateId;\n    const serviceId = process.env.REACT_APP_API_EMAIL_JS_serviceId;\n    const publicKey = process.env.REACT_APP_API_EMAIL_JS_publicKey;\n\n    const [date, setDate] = useState(new Date());\n    const [time, setTime] = useState(null)\n    const [isSent, setIsSent] = useState(\"Send\");\n    const [messageInput, setMessageInput] = useState(\"\");\n    const [isButtonDisabled, setIsButtonDisabled] = useState(true);\n\n    const navigate2 = useNavigate();\n\n    const handleOnChangeDate = (date, dateString) => {\n        setDate(dateString);\n    }\n\n    dayjs.extend(customParseFormat);\n\n    const handleOnChangeTime = (time, timeString) => {\n        setTime(timeString);\n    };\n\n    useEffect(() => {\n        setIsButtonDisabled(!(messageInput !== '' && date && time));\n    }, [date, time, messageInput]);\n\n    const handleSubmitMessage = (event) => {\n        event.preventDefault();\n        setIsSent(\"Sent\");\n        setIsButtonDisabled(true);\n\n        // Emailing\n\n        const templateParams = {\n            message: messageInput,\n            date: dayjs(date).format('DD/MM/YYYY'),\n            time: time\n        }\n\n        emailjs.send(serviceId, templateId, templateParams, publicKey)\n            .then((response) => {\n            })\n            .catch((error) => {\n                console.log(error);\n            })\n\n        setDate(new Date());\n        setTime(null);\n        setMessageInput('');\n\n        setTimeout(() => {\n            navigate2('/endpage')\n        }, 3000)\n    }\n\n    return (\n        <div className=\"message-form flex items-center justify-around flex-col gap-5\">\n            <div className=\"time-and-date flex flex-row flex-wrap items-center justify-center gap-6\">\n                <div className=\"date w-fit h-fit\">\n                    <DatePicker\n                        onChange={handleOnChangeDate}\n                        className='w-36 sm:w-48 lg:w-56 h-10 sm:h-12 lg:h-14'\n                    />\n                </div>\n                <div className=\"time w-fit h-fit\">\n                    <TimePicker\n                        changeOnScroll\n                        needConfirm={false}\n                        onChange={handleOnChangeTime}\n                        defaultOpenValue={dayjs('00:00:00', 'HH:mm:ss')}\n                        className='w-36 sm:w-48 lg:w-56 h-10 sm:h-12 lg:h-14'\n                        value={time ? dayjs(time, 'HH:mm:ss') : null}\n                    />\n                </div>\n            </div>\n            <div className=\"text-area\">\n                <textarea\n                    className='area-text w-[19.5rem] sm:w-[26rem] lg:w-[29.8rem] h-36 sm:h-48 lg:h-60 text-slate-600 font-bold p-4 rounded-lg shadow-lg hover:shadow-xl active:shadow-none duration-200 placeholder:text-slate-400'\n                    name=\"\"\n                    id=\"\"\n                    placeholder='Message here...'\n                    onChange={(e) => setMessageInput(e.target.value)}\n                    value={messageInput}\n                />\n            </div>\n            <div className=\"button-send\">\n                <button\n                    className={`send-button w-fit h-fit ${isButtonDisabled ? 'opacity-30' : ''}`}\n                    disabled={isButtonDisabled}\n                    onClick={handleSubmitMessage}\n                >\n                    <div\n                        className={`button-text px-7 py-3 border-2 rounded-xl text-xl bg-transparent bg-gradient-to-tr from-[#3a6186] to-[#89253e] text-gray-200 shadow-xl shadow-pink-500 ${isButtonDisabled ? '' : 'hover:scale-110 active:scale-90'} duration-100 mb-8 sm:mb-4 rotate-6`}>\n                        {isSent}\n                    </div>\n                </button>\n            </div>\n            <Link to=\"/endpage\" className=\"endpage-link hidden pointer-events-none select-none\"></Link>\n        </div>\n    );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,UAAU,KAAQ,MAAM,CACjC,OAASC,UAAU,KAAQ,MAAM,CACjC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,iBAAiB,KAAM,gCAAgC,CAC9D,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAO,CAAAC,OAAO,KAAM,kBAAkB,CACtC,MAAO,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE9B,cAAe,SAAS,CAAAC,WAAWA,CAAA,CAAG,CAElC,KAAM,CAAAC,UAAU,CAAGC,OAAO,CAACC,GAAG,CAACC,iCAAiC,CAChE,KAAM,CAAAC,SAAS,CAAGH,OAAO,CAACC,GAAG,CAACG,gCAAgC,CAC9D,KAAM,CAAAC,SAAS,CAAGL,OAAO,CAACC,GAAG,CAACK,gCAAgC,CAE9D,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGvB,QAAQ,CAAC,GAAI,CAAAwB,IAAI,CAAC,CAAC,CAAC,CAC5C,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAG1B,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAAC2B,MAAM,CAAEC,SAAS,CAAC,CAAG5B,QAAQ,CAAC,MAAM,CAAC,CAC5C,KAAM,CAAC6B,YAAY,CAAEC,eAAe,CAAC,CAAG9B,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAAC+B,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGhC,QAAQ,CAAC,IAAI,CAAC,CAE9D,KAAM,CAAAiC,SAAS,CAAG1B,WAAW,CAAC,CAAC,CAE/B,KAAM,CAAA2B,kBAAkB,CAAGA,CAACZ,IAAI,CAAEa,UAAU,GAAK,CAC7CZ,OAAO,CAACY,UAAU,CAAC,CACvB,CAAC,CAED/B,KAAK,CAACgC,MAAM,CAAC/B,iBAAiB,CAAC,CAE/B,KAAM,CAAAgC,kBAAkB,CAAGA,CAACZ,IAAI,CAAEa,UAAU,GAAK,CAC7CZ,OAAO,CAACY,UAAU,CAAC,CACvB,CAAC,CAEDrC,SAAS,CAAC,IAAM,CACZ+B,mBAAmB,CAAC,EAAEH,YAAY,GAAK,EAAE,EAAIP,IAAI,EAAIG,IAAI,CAAC,CAAC,CAC/D,CAAC,CAAE,CAACH,IAAI,CAAEG,IAAI,CAAEI,YAAY,CAAC,CAAC,CAE9B,KAAM,CAAAU,mBAAmB,CAAIC,KAAK,EAAK,CACnCA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtBb,SAAS,CAAC,MAAM,CAAC,CACjBI,mBAAmB,CAAC,IAAI,CAAC,CAEzB;AAEA,KAAM,CAAAU,cAAc,CAAG,CACnBC,OAAO,CAAEd,YAAY,CACrBP,IAAI,CAAElB,KAAK,CAACkB,IAAI,CAAC,CAACsB,MAAM,CAAC,YAAY,CAAC,CACtCnB,IAAI,CAAEA,IACV,CAAC,CAEDjB,OAAO,CAACqC,IAAI,CAAC3B,SAAS,CAAEJ,UAAU,CAAE4B,cAAc,CAAEtB,SAAS,CAAC,CACzD0B,IAAI,CAAEC,QAAQ,EAAK,CACpB,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,EAAK,CACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CACtB,CAAC,CAAC,CAEN1B,OAAO,CAAC,GAAI,CAAAC,IAAI,CAAC,CAAC,CAAC,CACnBE,OAAO,CAAC,IAAI,CAAC,CACbI,eAAe,CAAC,EAAE,CAAC,CAEnBsB,UAAU,CAAC,IAAM,CACbnB,SAAS,CAAC,UAAU,CAAC,CACzB,CAAC,CAAE,IAAI,CAAC,CACZ,CAAC,CAED,mBACIrB,KAAA,QAAKyC,SAAS,CAAC,8DAA8D,CAAAC,QAAA,eACzE1C,KAAA,QAAKyC,SAAS,CAAC,yEAAyE,CAAAC,QAAA,eACpF5C,IAAA,QAAK2C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC7B5C,IAAA,CAACR,UAAU,EACPqD,QAAQ,CAAErB,kBAAmB,CAC7BmB,SAAS,CAAC,2CAA2C,CACxD,CAAC,CACD,CAAC,cACN3C,IAAA,QAAK2C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC7B5C,IAAA,CAACP,UAAU,EACPqD,cAAc,MACdC,WAAW,CAAE,KAAM,CACnBF,QAAQ,CAAElB,kBAAmB,CAC7BqB,gBAAgB,CAAEtD,KAAK,CAAC,UAAU,CAAE,UAAU,CAAE,CAChDiD,SAAS,CAAC,2CAA2C,CACrDM,KAAK,CAAElC,IAAI,CAAGrB,KAAK,CAACqB,IAAI,CAAE,UAAU,CAAC,CAAG,IAAK,CAChD,CAAC,CACD,CAAC,EACL,CAAC,cACNf,IAAA,QAAK2C,SAAS,CAAC,WAAW,CAAAC,QAAA,cACtB5C,IAAA,aACI2C,SAAS,CAAC,qMAAqM,CAC/MO,IAAI,CAAC,EAAE,CACPC,EAAE,CAAC,EAAE,CACLC,WAAW,CAAC,iBAAiB,CAC7BP,QAAQ,CAAGQ,CAAC,EAAKjC,eAAe,CAACiC,CAAC,CAACC,MAAM,CAACL,KAAK,CAAE,CACjDA,KAAK,CAAE9B,YAAa,CACvB,CAAC,CACD,CAAC,cACNnB,IAAA,QAAK2C,SAAS,CAAC,aAAa,CAAAC,QAAA,cACxB5C,IAAA,WACI2C,SAAS,4BAAAY,MAAA,CAA6BlC,gBAAgB,CAAG,YAAY,CAAG,EAAE,CAAG,CAC7EmC,QAAQ,CAAEnC,gBAAiB,CAC3BoC,OAAO,CAAE5B,mBAAoB,CAAAe,QAAA,cAE7B5C,IAAA,QACI2C,SAAS,2JAAAY,MAAA,CAA4JlC,gBAAgB,CAAG,EAAE,CAAG,iCAAiC,uCAAsC,CAAAuB,QAAA,CACnQ3B,MAAM,CACN,CAAC,CACF,CAAC,CACR,CAAC,cACNjB,IAAA,CAACJ,IAAI,EAAC8D,EAAE,CAAC,UAAU,CAACf,SAAS,CAAC,qDAAqD,CAAO,CAAC,EAC1F,CAAC,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}